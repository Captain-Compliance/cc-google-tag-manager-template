___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Captain Compliance",
  "description": "Captain Compliance provides a user-friendly platform backed by privacy professionals. We simplify the process of navigating regulations, giving your customers transparent choices, and building essential trust for your organization. Learn more at www.captaincompliance.com",
  "categories": [
    "TAG_MANAGEMENT",
    "PERSONALIZATION"
  ],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "Captain Compliance provides a user-friendly platform backed by privacy professionals. We simplify the process of navigating regulations, giving your customers transparent choices.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "accesstoken",
    "displayName": "Access Token",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

/*
 **********##   ****#******#
**#*********## ###***********
*************###************#
******##******##****#*##*****
******# ************** #*****
******# ******#******# #****#
******#  #**# ##*****#  #****
******#       *******#
******#       ********
******#       *******#
*****##       ********
******# #****##*****## #*****
******# *****##****#** ******
******# ******#******# #*****
*****####*****#******#*******
**************#*******#******
*************# #***********##
 *#****#****#   #***#****###
 © 2024 - Captain Compliance
 www.captaincompliance.com
 */
const encode = require('encodeUriComponent');
const log = require('logToConsole');
const injectScript = require('injectScript');

const accessToken = data.accessToken;

injectScript('https://go.cptn.co/banner/script?accessToken=' + encode(accessToken), data.gtmOnSuccess, data.gtmOnFailure);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://go.cptn.co/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 6/26/2024, 11:38:20 AM


